# ICS lab笔记

## lab 1

整体思路就是按照lab的实验手册上的，将a分解成而二进制形式，从而将乘法转换成移位操作，这样只要实现加法的取模操作。

注意点：

+ 左移操作。利用r1,r2两个uint64_t数据存储左移后的结果。其中r1存储高64位，r2存储低64位。（过程挺艰辛的，无限debug，如右移位数超出数据位数引发的`undefined behavior`，右移位数设置错误）
```c
r1 = b >> (64 - shift)
r2 = b << shift
```

+ 加法溢出问题。直接利用无符号整数溢出的性质（$x +y = t + 2 ^{64}$）和模的性质（$(x - m) \space mod \space m = x \space mod \space m$）,用t一直减去m直到发生溢出，就可以间接补上$2^{64}$，解决加法溢出问题。



